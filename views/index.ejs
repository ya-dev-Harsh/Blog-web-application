<%- include('partials/header.ejs') %>

<div class="container">
    <a href="/name" class="btn">Create New Post</a>
    <div class="blog-grid">
        <% if (typeof posts !== 'undefined' && posts.length > 0) { %>
            <% posts.forEach(post => { %>
                <div class="blog-card">
                    <h2 class="blog-card-title"><%= post.name %></h2>
                    <p class="blog-card-excerpt"><%= post.content.substring(0, 100) %>...</p>
                    <a href="/edit/<%= post.id %>" class="btn">Read More</a>
                    <form action="/delete/<%= post.id %>" method="POST" style="display:inline;">
          <button class="btn" type="submit">Delete</button>
        </form>
                </div>
            <% }) %>
        <% } else { %>
            <p>No posts yet. Create one!</p>
        <% } %>
    </div>
</div>

<%- include('partials/footer.ejs') %>
